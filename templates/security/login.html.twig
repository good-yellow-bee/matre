{% extends 'base.html.twig' %}

{% block title %}Sign in · ReSymf CMS{% endblock %}

{% block body %}
<section class="auth-hero">
    <div class="auth-card">
        <div class="text-center mb-4">
            <div class="auth-logo mx-auto">
                <i class="bi bi-columns-gap"></i>
            </div>
            <h1 class="auth-title">Welcome back</h1>
            <p class="auth-subtitle">Sign in to manage pages, themes and users.</p>
        </div>

        {% if error %}
            <div class="alert alert-danger" role="alert">
                {{ error.messageKey|trans(error.messageData, 'security') }}
            </div>
        {% endif %}

        {% if app.user %}
            <div class="alert alert-info">
                You are logged in as {{ app.user.userIdentifier }}.
                <a href="{{ path('app_logout') }}">Logout</a>
            </div>
        {% endif %}

        <form method="post" action="{{ path('app_login') }}" class="space-y-3">
            <div class="mb-3">
                <label for="username" class="form-label fw-semibold">Username</label>
                <div class="input-group">
                    <span class="input-group-text"><i class="bi bi-person"></i></span>
                    <input
                        type="text"
                        value="{{ last_username }}"
                        name="_username"
                        id="username"
                        class="form-control"
                        autocomplete="username"
                        required
                        autofocus
                        placeholder="admin">
                </div>
            </div>

            <div class="mb-3">
                <label for="password" class="form-label fw-semibold">Password</label>
                <div class="input-group">
                    <span class="input-group-text"><i class="bi bi-lock"></i></span>
                    <input
                        type="password"
                        name="_password"
                        id="password"
                        class="form-control"
                        autocomplete="current-password"
                        required
                        placeholder="••••••••">
                </div>
            </div>

            <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">

            <div class="d-flex justify-content-between align-items-center flex-wrap gap-2 mb-4">
                <label class="form-check remember-me mb-0">
                    <input type="checkbox" name="_remember_me" id="remember_me" class="form-check-input">
                    <span class="form-check-label">Remember me</span>
                </label>
                <a class="small text-decoration-none text-primary" href="#">
                    Forgot password?
                </a>
            </div>

            <button class="btn auth-cta text-white w-100" type="submit">
                Sign in
            </button>
        </form>

        <p class="auth-footnote text-center mt-4 mb-0">
            &copy; {{ 'now'|date('Y') }} ReSymf CMS · Crafted with Symfony 7
        </p>
    </div>
</section>
{% endblock %}

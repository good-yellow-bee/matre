{% extends 'admin/base.html.twig' %}

{% block title %}Edit Page{% endblock %}

{% block body %}
<div class="dashboard-welcome mb-4">
    <h1>Edit Page</h1>
    <p class="subtitle">Modify the content and settings for: <strong>{{ page.title }}</strong></p>
</div>

{# Vue Page Form #}
<div
    data-vue-island="page-form"
    data-page-id="{{ page.id }}"
    data-api-url="{{ path('api_pages_index') }}"
    data-cancel-url="{{ path('admin_page_index') }}"
    data-categories-data="{{ categoriesData|e('html_attr') }}"
></div>

<div class="mt-3">
    <small class="text-muted">
        Created: {{ page.createdAt|date('Y-m-d H:i') }}
        {% if page.updatedAt %}
            | Last Updated: {{ page.updatedAt|date('Y-m-d H:i') }}
        {% endif %}
        | Views: {{ page.viewCount }}
    </small>
</div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    {{ vite_entry_script_tags('page-form-app') }}
{% endblock %}
